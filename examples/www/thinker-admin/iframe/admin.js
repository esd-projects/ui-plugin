/** thinker-admin-v1.0.0 MIT License By http://www.thinkphp-admin.com/ */
 ;layui.define(["element"],function(e){var a=layui.jquery,i=layui.thinkeradmin,t=layui.laytpl,l=layui.element,n=layui.device(),o=a(window),r=a("body"),s=a(i.container.id),u="layui-icon-shrink-right",d="layui-icon-spread-left",c="thinkeradmin-side-spread-sm",y="thinkeradmin-side-shrink",m="thinkeradmin-tabsbody-item",h={on:function(e,a){return layui.onevent.call(this,i.eventName,e,a)},screen:function(){var e=o.width();return e>1200?3:e>992?2:e>768?1:0},sideFlexible:function(e){var t=a(document).find(i.container.menuIcon),l=h.screen();e?(t.removeClass(d).addClass(u),l<2?s.addClass(c):s.removeClass(c),s.removeClass(y)):(t.removeClass(u).addClass(d),l<2?s.removeClass(y):s.addClass(y),s.removeClass(c)),layui.event.call(this,i.eventName,"menu({*})",{status:e})},resizeTableOnWindowChange:function(e){var t=function(){a(i.container.body).find(".layui-table-view").each(function(){var e=a(this).attr("lay-id");layui.table.resize(e)})};layui.table&&(e?setTimeout(t,e):t())},theme:function(e){var i=layui.session.get("theme")||{},l="thinkerAdmin_theme",n=document.createElement("style");e=a.extend({},i,e);var o=t([".layui-side-menu,",".thinkeradmin-side-shrink .layui-side-menu .layui-nav>.layui-nav-item>.layui-nav-child","{background-color:{{d.color.main}} !important;}",".thinkeradmin-pagetabs .layui-tab-title li:after,",".thinkeradmin-pagetabs .layui-tab-title li.layui-this:after,",".layui-layer-admin .layui-layer-title","{background-color:{{d.color.logo}} !important;}",".layui-nav-tree .layui-this,",".layui-nav-tree .layui-this>a,",".layui-nav-tree .layui-nav-child dd.layui-this,",".layui-nav-tree .layui-nav-child dd.layui-this a","{background-color:rgba({{layui.tools.hexToRgb(d.color.selected)}},.3) !important;}",".layui-nav-tree .layui-nav-bar","{background-color:{{d.color.selected}} !important;}",".layui-nav-tree .layui-nav-child dd.layui-this a:after,",".layui-form-select dl dd.layui-this:after",'{transition: transform .15s cubic-bezier(.645, .045, .355, 1),opacity .15s cubic-bezier(.645, .045, .355, 1),-webkit-transform .15s cubic-bezier(.645, .045, .355, 1);transform: scaleY(1);border-right: 3px solid {{d.color.selected}};content: "";position: absolute;right: 0;top:0;bottom:0; }',".eleTree-checkbox-checked i,",".layui-form-checked[lay-skin=primary] i,",".layui-form-onswitch,","div[xm-select-skin] .xm-select-title div.xm-select-label>span,",".xm-select-parent .xm-select-title div.xm-select-label>span","{background-color: {{d.color.selected}};border-color: {{d.color.selected}}; }",".layui-form-radio>i:hover, .layui-form-radioed>i,",".xm-select-parent dl dd.xm-select-this i,",".xm-form-checkbox>i","{color: {{d.color.selected}}; }",".layui-form-select dl dd.layui-this","{position: relative;background-color: rgba({{layui.tools.hexToRgb(d.color.selected)}},.6); }",".xm-form-checkbox>i,",".xm-form-selected .xm-select, .xm-form-selected .xm-select:hover","{border-color: {{d.color.selected}}; }","{{# if(layui.tools.rgbIsLight(layui.tools.hexToRgb(d.color.selected))){ }}",".eleTree-checkbox-checked i,",".layui-form-checked[lay-skin=primary] i,",".layui-form-checked, .layui-form-checked:hover,",".layui-form-select dl dd.layui-this","{color: black; }","{{# } }}",".layui-layout-admin .layui-logo","{background-color:{{d.color.logo || d.color.main}} !important;}","{{# if(layui.tools.rgbIsLight(layui.tools.hexToRgb(d.color.logo))){ }}",".layui-layout-admin .layui-logo,.layui-layout-admin .layui-logo a","{color: rgba(0,0,0,.8)}",".thinkeradmin-pagetabs .layui-tab-title li:after,",".thinkeradmin-pagetabs .layui-tab-title li.layui-this:after,",".layui-layer-admin .layui-layer-title,.layui-layer-admin i[close]","{color: rgba(0,0,0,.8)}","{{# } }}","{{# if(d.color.header){ }}",".layui-layout-admin .layui-header","{background-color:{{ d.color.header }};}","{{# if(layui.tools.rgbIsLight(layui.tools.hexToRgb(d.color.header))){ }}",".layui-layout-admin .layui-header a,",".layui-layout-admin .layui-header a cite","{color: rgba(0,0,0,.8);}",".layui-layout-admin .layui-header a:hover","{color: #1890ff;}","{{# }else{ }}",".layui-layout-admin .layui-header a,",".layui-layout-admin .layui-header a cite","{color: #f8f8f8;}",".layui-layout-admin .layui-header a:hover","{color: #fff;}","{{# } }}",".layui-layout-admin .layui-header .layui-nav .layui-nav-more","{border-top-color: #fbfbfb;}",".layui-layout-admin .layui-header .layui-nav .layui-nav-mored","{border-color: transparent; border-bottom-color: #fbfbfb;}",".layui-layout-admin .layui-header .layui-nav .layui-this:after, .layui-layout-admin .layui-header .layui-nav-bar","{background-color: #fff; background-color: rgba(255,255,255,.5);}",".thinkeradmin-pagetabs .layui-tab-title li:after","{display: none;}","{{# } }}","{{# if(layui.tools.rgbIsLight(layui.tools.hexToRgb(d.color.main))){ }}",".layui-nav-itemed>a, .layui-nav-tree .layui-nav-title a, .layui-nav-tree .layui-nav-title a:hover","{color: #000000 !important}",".layui-side-scroll .layui-nav .layui-nav-item a","{color: rgba(0,0,0,0.7)}",".layui-nav .layui-nav-mored, .layui-nav-itemed>a .layui-nav-more","{border-color: transparent transparent rgba(0,0,0,0.7)}",".layui-nav .layui-nav-more","{border-color: rgba(0,0,0,0.7) transparent transparent;border-top-color: rgba(0,0,0,0.7)}",".layui-nav-itemed>.layui-nav-child","{background-color: transparent !important;}",".thinkeradmin-side-shrink .layui-side-menu .layui-nav>.layui-nav-itemed>a","{background: rgba(200,200,200,.3);}",".layui-side-scroll .layui-nav .layui-this a","{color: rgba(255,255,255,0.7)}","{{# } }}"].join("")).render(e),s=document.getElementById(l);"styleSheet"in n?(n.setAttribute("type","text/css"),n.styleSheet.cssText=o):n.innerHTML=o,n.id=l,s&&r[0].removeChild(s),r[0].appendChild(n),r.attr("thinkeradmin-themealias",e.color.alias),layui.session.set("theme",e)},initTheme:function(e){var a=i.theme;e=e||0,a.color[e]?(a.color[e].index=e,h.theme({color:a.color[e]})):i.debug&&console.error("theme index: "+e+" is not found on thinkerAdmin.theme")},resizeFn:{},resize:function(e){var a=layui.router(),i=a.path.join("-");h.resizeFn[i]&&(o.off("resize",h.resizeFn[i]),delete h.resizeFn[i]),"off"!==e&&(e(),h.resizeFn[i]=e,o.on("resize",h.resizeFn[i]))},runResize:function(){var e=layui.router(),a=e.path.join("-");h.resizeFn[a]&&h.resizeFn[a]()},delResize:function(){this.resize("off")},tabsPage:{},tabsBody:function(e){return a(i.container.body).find("."+m).eq(e||0)},tabsBodyChange:function(e,a){a=a||{},h.tabsBody(e).addClass("layui-show").siblings().removeClass("layui-show"),f.rollPage("auto",e),layui.event.call(this,i.eventName,"iframe({*})",a)},closeThisTabs:function(){h.tabsPage.index&&a(i.container.tabheader+">li").eq(h.tabsPage.index).find(".layui-tab-close").trigger("click")},fullScreen:function(){var e=document.documentElement,a=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen;"undefined"!=typeof a&&a&&a.call(e)},exitFullScreen:function(){document.documentElement;document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}},f=h.events={flexible:function(e){var a=e.find(i.container.menuIcon),t=a.hasClass(u);h.sideFlexible(!t),h.resizeTableOnWindowChange(350)},refresh:function(){var e=a("."+m).length;h.tabsPage.index>=e&&(h.tabsPage.index=e-1);var i=h.tabsBody(h.tabsPage.index).find(".thinkeradmin-iframe");i[0].contentWindow.location.reload(!0)},theme:function(){layui.view.dialogRight({id:"thinkerAdmin_Theme",success:function(){layui.view.init("#"+this.id).render(i.view.theme)}})},note:function(e){var a=h.screen()<2,i=layui.session.get("note");f.note.index=layui.view.dialog({title:"便签",shade:0,offset:["41px",a?null:e.offset().left-250+"px"],anim:-1,id:"thinkerAdmin_Note",skin:"thinkeradmin-note layui-anim layui-anim-upbit",content:'<textarea placeholder="内容"></textarea>',resize:!1,success:function(e,a){var t=e.find("textarea"),l=void 0===i?"备忘记录":i;t.val(l).focus().on("keyup",function(){layui.session.set("note",this.value)})}})},fullscreen:function(e){var a="layui-icon-screen-full",i="layui-icon-screen-restore",t=e.children("i");t.hasClass(a)?(h.fullScreen(),t.addClass(i).removeClass(a)):(h.exitFullScreen(),t.addClass(a).removeClass(i))},back:function(){history.back()},setTheme:function(e){var a=e.data("index");e.hasClass("layui-this")||(e.addClass("layui-this").siblings(".layui-this").removeClass("layui-this"),h.initTheme(a))},shade:function(){h.sideFlexible()},rollPage:function(e,t){var l=a(i.container.tabheader),n=l.children("li"),o=(l.prop("scrollWidth"),l.outerWidth()),r=parseFloat(l.css("left"));if("left"===e){if(!r&&r<=0)return;var s=-r-o;n.each(function(e,i){var t=a(i),n=t.position().left;if(n>=s)return l.css("left",-n),!1})}else"auto"===e?!function(){var e,i=n.eq(t);if(i[0]){if(e=i.position().left,e<-r)return l.css("left",-e);if(e+i.outerWidth()>=o-r){var s=e+i.outerWidth()-(o-r);n.each(function(e,i){var t=a(i),n=t.position().left;if(n+r>0&&n-r>s)return l.css("left",-n),!1})}}}():n.each(function(e,i){var t=a(i),n=t.position().left;if(n+t.outerWidth()>=o-r)return l.css("left",-n),!1})},leftPage:function(){f.rollPage("left")},rightPage:function(){f.rollPage()},closeThisTabs:function(){var e=parent===self?h:parent.layui.admin;e.closeThisTabs()},closeOtherTabs:function(e){var t="LAY-system-pagetabs-remove";"all"===e?(a(i.container.tabheader+">li:gt(0)").remove(),a(i.container.body).find("."+m+":gt(0)").remove(),a(i.container.tabheader+">li").eq(0).trigger("click")):(a(i.container.tabheader+">li").each(function(e,i){e&&e!=h.tabsPage.index&&(a(i).addClass(t),h.tabsBody(e).addClass(t))}),a("."+t).remove())},closeAllTabs:function(){f.closeOtherTabs("all")},logout:function(){i.events.logout?i.events.logout():layui.session.logout()}};!function(){var e=layui.session.get("theme");e?h.theme(e):i.theme&&h.initTheme(i.theme.initColorIndex),r.addClass("layui-layout-body"),n.ie&&n.ie<10&&layui.view.error("IE"+n.ie+"下访问可能不佳，推荐使用：Chrome / Firefox / Edge 等高级浏览器",{offset:"auto",id:"LAY_errorIE"})}(),l.on("tab(thinkeradmin-layout-tabs)",function(e){h.tabsPage.index=e.index}),h.on("tabsPage(setMenustatus)",function(e){var t=e.path,l=a(i.container.menu),n="layui-nav-itemed",o=function(e){return{list:e.children(".layui-nav-child"),name:e.data("name"),jump:e.data("jump")}},r=function(e){var i=layui.tools.makeSpaUrl(t.join("/"));e.each(function(e,l){var r=a(l),s=o(r),u=s.list.children("dd"),d=t[0]===s.name||0===e&&!t[0]||s.jump&&i===layui.tools.makeSpaUrl(s.jump);if(u.each(function(e,l){var r=a(l),u=o(r),d=u.list.children("dd"),c=t[0]===s.name&&t[1]===u.name||u.jump&&i===layui.tools.makeSpaUrl(u.jump);if(d.each(function(e,l){var r=a(l),d=o(r),c=t[0]===s.name&&t[1]===u.name&&t[2]===d.name||d.jump&&i===layui.tools.makeSpaUrl(d.jump);if(c){var y=d.list[0]?n:"layui-this";return r.addClass(y).siblings().removeClass(y),!1}}),c){var y=u.list[0]?n:"layui-this";return r.addClass(y).siblings().removeClass(y),!1}}),d){var c=s.list[0]?n:"layui-this";return r.addClass(c).siblings().removeClass(c),!1}})};l.find(".layui-this").removeClass("layui-this"),h.screen()<2&&h.sideFlexible(),r(l.children("li"))}),l.on("nav(thinkeradmin-side-menu)",function(e){e.siblings(".layui-nav-child")[0]&&s.hasClass(y)&&(h.sideFlexible(1),layer.close(e.data("index"))),h.tabsPage.type="nav"});var b=function(e){var a=(e.attr("lay-id"),e.attr("lay-attr")),i=e.index();h.tabsBodyChange(i,{url:a})};r.on("click",i.container.tabheader+">li",function(){var e=a(this),i=e.index();h.tabsPage.type="tab",h.tabsPage.index=i,b(e)}),l.on("tabDelete(thinkeradmin-layout-tabs)",function(e){var i=a("thinkeradmin-layout-tabs .layui-this");e.index&&h.tabsBody(e.index).remove(),b(i),h.delResize()}),r.on("click","*[thinker-href]",function(){var e=a(this),i=e.attr("thinker-href"),t=e.attr("thinker-text");layui.router();h.tabsPage.elem=e;var l=parent===self?layui:top.layui;l.index.render(i,t||e.text())}),r.on("click","*[thinkeradmin-event]",function(){var e=a(this),i=e.attr("thinkeradmin-event");f[i]&&f[i].call(this,e)}),r.on("mouseenter","*[lay-tips]",function(){var e=a(this);if(!e.parent().hasClass("layui-nav-item")||s.hasClass(y)){var i=e.attr("lay-tips"),t=e.attr("lay-offset"),l=e.attr("lay-direction"),n=layer.tips(i,this,{tips:l||1,time:-1,success:function(e,a){t&&e.css("margin-left",t+"px")}});e.data("index",n)}}).on("mouseleave","*[lay-tips]",function(){layer.close(a(this).data("index"))});var v=layui.data.resizeSystem=function(){layer.closeAll("tips"),v.lock||setTimeout(function(){h.sideFlexible(!(h.screen()<2)),delete v.lock},100),v.lock=!0};o.on("resize",layui.data.resizeSystem),e("admin",h)});